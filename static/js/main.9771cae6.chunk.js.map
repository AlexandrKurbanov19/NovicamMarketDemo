{"version":3,"sources":["components/Card/Card.module.scss","components/Drawer/Drawer.module.scss","components/Header/Header.module.scss","assets/btn-remove.svg","assets/complete-order.jpg","assets/empty-cart.jpg","assets/arrow.svg","context.js","components/Info.jsx","hooks/useCart.js","components/Drawer/index.js","assets/search.svg","assets/liked.svg","assets/unliked.svg","assets/btn-checked.svg","assets/btn-plus.svg","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","assets/logo.png","assets/cart.svg","assets/heart.svg","assets/user.svg","components/Header/Header.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","Info","title","image","description","setCartOpened","useContext","className","width","src","alt","onClick","style","transform","arrow","useCart","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","drawer__top","btnRemove","map","backgroundImage","url","toFixed","disabled","iconCompleteOrder","iconEmptyCart","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","liked","unliked","bottom_block","bottom_text","plus","checked","btnPlus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","iconSearch","iconRemove","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","Header","props","header","to","header__logo","logo","header__nav","onClickCart","cart","iconHeart","iconUser","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","path","exact","element","event","target","ReactDOM","render","StrictMode","hashType","document","getElementById"],"mappings":"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","file":"static/js/main.9771cae6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__euWIs\",\"bottom_block\":\"Card_bottom_block__3ZTmE\",\"bottom_text\":\"Card_bottom_text__3J7Am\",\"plus\":\"Card_plus__IXPgl\",\"favorite\":\"Card_favorite__2f72N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__BsJML\",\"overlayVisible\":\"Drawer_overlayVisible__1niOl\",\"drawer\":\"Drawer_drawer__3jXK6\",\"drawer__top\":\"Drawer_drawer__top__29M7S\",\"items\":\"Drawer_items__1gRmN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__vvO-5\",\"header__logo\":\"Header_header__logo__3bRAq\",\"header__logo-text\":\"Header_header__logo-text__KbT9m\",\"header__nav\":\"Header_header__nav__3yGne\"};","export default __webpack_public_path__ + \"static/media/btn-remove.845f3635.svg\";","export default __webpack_public_path__ + \"static/media/complete-order.b997b2a1.jpg\";","export default __webpack_public_path__ + \"static/media/empty-cart.03669791.jpg\";","export default __webpack_public_path__ + \"static/media/arrow.566fdd2a.svg\";","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\nimport arrow from '../assets/arrow.svg'\r\n\r\nconst Info = ({ title, image, description }) => {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n        <img style={{transform:'rotate(0deg)'}} src={arrow} alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n  return { cartItems, setCartItems, totalPrice };\r\n};\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport btnRemove from '../../assets/btn-remove.svg'\r\nimport iconCompleteOrder from '../../assets/complete-order.jpg';\r\nimport iconEmptyCart from '../../assets/empty-cart.jpg';\r\nimport arrow from '../../assets/arrow.svg'\r\nimport Info from '../Info';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, onRemove, items = [], opened }) {\r\n  const { cartItems, setCartItems, totalPrice } = useCart();\r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post('https://61fe2adea58a4e00173c9751.mockapi.io/order', {\r\n        items: cartItems,\r\n      });\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete(`https://61fe2adea58a4e00173c9751.mockapi.io/cart/${item.id}`);\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при создании заказа :(');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className={styles.drawer__top}>\r\n          Корзина <img onClick={onClose} className=\"cu-p\" src={btnRemove} alt=\"Close\" />\r\n        </h2>\r\n\r\n        {items.length > 0 ? (\r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className=\"items flex\">\r\n              {items.map((obj) => (\r\n                <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                  <div\r\n                    style={{ backgroundImage: `url(${obj.url})` }}\r\n                    className=\"cartItemImg\"></div>\r\n\r\n                  <div className=\"mr-20 flex\">\r\n                    <p className=\"mb-5\">{obj.title}</p>\r\n                    <b>{obj.price} руб.</b>\r\n                  </div>\r\n                  <img\r\n                    onClick={() => onRemove(obj.id)}\r\n                    className=\"removeBtn\"\r\n                    src={btnRemove}\r\n                    alt=\"Remove\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб. </b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{((totalPrice / 100) * 5).toFixed(2)} руб. </b>\r\n                </li>\r\n              </ul>\r\n              <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                Оформить заказ <img src={arrow} alt=\"Arrow\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info\r\n            title={isOrderComplete ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n            description={\r\n              isOrderComplete\r\n                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                : 'Добавьте хотя бы одну камеру, чтобы сделать заказ.'\r\n            }\r\n            image={isOrderComplete ? iconCompleteOrder : iconEmptyCart}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","export default __webpack_public_path__ + \"static/media/search.b2233f92.svg\";","export default __webpack_public_path__ + \"static/media/liked.bfa36d4d.svg\";","export default __webpack_public_path__ + \"static/media/unliked.4752529a.svg\";","export default __webpack_public_path__ + \"static/media/btn-checked.0c4d8afb.svg\";","export default __webpack_public_path__ + \"static/media/btn-plus.503fc6fb.svg\";","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\nimport liked from '../../assets/liked.svg'\r\nimport unliked from '../../assets/unliked.svg'\r\nimport checked from '../../assets/btn-checked.svg'\r\nimport btnPlus from '../../assets/btn-plus.svg'\r\nimport AppContext from '../../context';\r\nimport styles from './Card.module.scss';\r\n\r\nfunction Card({\r\n  id,\r\n  title,\r\n  url,\r\n  price,\r\n  onFavorite,\r\n  onPlus,\r\n  favorited = false,\r\n  loading = false,\r\n}) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const obj = { id, parentId: id, title, url, price };\r\n \r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  };\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={155}\r\n          height={250}\r\n          viewBox=\"0 0 155 265\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\">\r\n          <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n          <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n          <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n          <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n          <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onFavorite && (\r\n            <div className={styles.favorite} onClick={onClickFavorite}>\r\n              <img src={isFavorite ? liked : unliked} alt=\"Unliked\" />\r\n            </div>\r\n          )}\r\n          <img width=\"100%\" height={135} src={url} alt=\"Sneakers\" />\r\n          <h5>{title}</h5>\r\n          <div className={styles.bottom_block}>\r\n            <div className={styles.bottom_text}>\r\n              <span>Цена:</span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {onPlus && (\r\n              <img\r\n                className={styles.plus}\r\n                onClick={onClickPlus}\r\n                src={isItemAdded(id) ? checked : btnPlus}\r\n                alt=\"Plus\"\r\n                checked\r\n\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport iconSearch from '../assets/search.svg'\r\nimport iconRemove from '../assets/btn-remove.svg'\r\n\r\nimport Card from '../components/Card';\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  setSearchValue,\r\n  onChangeSearchInput,\r\n  onAddToFavorite,\r\n  onAddToCart,\r\n  isLoading,\r\n}) {\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n    );\r\n\r\n    return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"top-title\">\r\n        <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все камеры'}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src={iconSearch} alt=\"Search\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue('')}\r\n              className=\"clear cu-p\"\r\n              src={iconRemove}\r\n              alt=\"Clear\"\r\n            />\r\n          )}\r\n          <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Favorites() {\r\n  const { favorites, onAddToFavorite } = React.useContext(AppContext);\r\n\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card key={index} favorited={true} onFavorite={onAddToFavorite} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Orders() {\r\n  const { onAddToFavorite, onAddToCart } = React.useContext(AppContext);\r\n  const [orders, setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get('https://61fe2adea58a4e00173c9751.mockapi.io/order');\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        alert('Ошибка при запросе заказов');\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n          <Card key={index} loading={isLoading} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","export default __webpack_public_path__ + \"static/media/logo.cd71228b.png\";","export default __webpack_public_path__ + \"static/media/cart.896ad80a.svg\";","export default __webpack_public_path__ + \"static/media/heart.0f1a07ae.svg\";","export default __webpack_public_path__ + \"static/media/user.a2d7f9ab.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from './../../assets/logo.png';\r\nimport cart from './../../assets/cart.svg';\r\nimport iconHeart from './../../assets/heart.svg';\r\nimport iconUser from './../../assets/user.svg';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport styles from './Header.module.scss';\r\n\r\nfunction Header(props) {\r\n  const { totalPrice } = useCart();\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <Link to=\"/\">\r\n        <div className={styles.header__logo}>\r\n          <img width={40} height={40} src={logo} alt=\"Logotype\" />\r\n          <div className=\"header__logo-text\">\r\n            <h3>NOVICAM</h3>\r\n            <p>Магазин видеонаблюдения</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className={styles.header__nav}>\r\n        <li onClick={props.onClickCart}>\r\n          <img width={18} height={18} src={cart} alt=\"Корзина\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src={iconHeart} alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img width={18} height={18} src={iconUser} alt=\"Пользователь\" />\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport Drawer from './components/Drawer';\r\nimport AppContext from './context';\r\n\r\nimport Home from './pages/Home';\r\nimport Favorites from './pages/Favorites';\r\nimport Orders from './pages/Orders';\r\nimport Header from './components/Header/Header.jsx';\r\n\r\nfunction App() {\r\n  const [items, setItems] = React.useState([]);\r\n  const [cartItems, setCartItems] = React.useState([]);\r\n  const [favorites, setFavorites] = React.useState([]);\r\n  const [searchValue, setSearchValue] = React.useState('');\r\n  const [cartOpened, setCartOpened] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\r\n          axios.get('https://61fe2adea58a4e00173c9751.mockapi.io/cart'),\r\n          axios.get('https://61fe2adea58a4e00173c9751.mockapi.io/favorite'),\r\n          axios.get('https://61fe2adea58a4e00173c9751.mockapi.io/items'),\r\n        ]);\r\n\r\n        setIsLoading(false);\r\n        setCartItems(cartResponse.data);\r\n        setFavorites(favoritesResponse.data);\r\n        setItems(itemsResponse.data);\r\n      } catch (error) {\r\n        alert('Ошибка при запросе данных ;(');\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const onAddToCart = async (obj) => {\r\n    try {\r\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\r\n      if (findItem) {\r\n        setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\r\n        await axios.delete(`https://61fe2adea58a4e00173c9751.mockapi.io/cart/${findItem.id}`);\r\n      } else {\r\n        setCartItems((prev) => [...prev, obj]);\r\n        const { data } = await axios.post('https://61fe2adea58a4e00173c9751.mockapi.io/cart', obj);\r\n        setCartItems((prev) =>\r\n          prev.map((item) => {\r\n            if (item.parentId === data.parentId) {\r\n              return {\r\n                ...item,\r\n                id: data.id,\r\n              };\r\n            }\r\n            return item;\r\n          }),\r\n        );\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при добавлении в корзину');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onRemoveItem = (id) => {\r\n    try {\r\n      axios.delete(`https://61fe2adea58a4e00173c9751.mockapi.io/cart/${id}`);\r\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\r\n    } catch (error) {\r\n      alert('Ошибка при удалении из корзины');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onAddToFavorite = async (obj) => {\r\n    try {\r\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\r\n        axios.delete(`https://61fe2adea58a4e00173c9751.mockapi.io/favorite/${obj.id}`);\r\n        setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\r\n      } else {\r\n        const { data } = await axios.post(\r\n          'https://61fe2adea58a4e00173c9751.mockapi.io/favorite',\r\n          obj,\r\n        );\r\n        setFavorites((prev) => [...prev, data]);\r\n      }\r\n    } catch (error) {\r\n      alert('Не удалось добавить в фавориты');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onChangeSearchInput = (event) => {\r\n    setSearchValue(event.target.value);\r\n  };\r\n\r\n  const isItemAdded = (id) => {\r\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        items,\r\n        cartItems,\r\n        favorites,\r\n        isItemAdded,\r\n        onAddToFavorite,\r\n        onAddToCart,\r\n        setCartOpened,\r\n        setCartItems,\r\n      }}>\r\n      <div className=\"wrapper clear\">\r\n        <Drawer\r\n          items={cartItems}\r\n          onClose={() => setCartOpened(false)}\r\n          onRemove={onRemoveItem}\r\n          opened={cartOpened}\r\n        />\r\n\r\n        <Header onClickCart={() => setCartOpened(true)} />\r\n        <Routes>\r\n          <Route path=\"\" exact\r\n            element={<Home\r\n              items={items}\r\n              cartItems={cartItems}\r\n              searchValue={searchValue}\r\n              setSearchValue={setSearchValue}\r\n              onChangeSearchInput={onChangeSearchInput}\r\n              onAddToFavorite={onAddToFavorite}\r\n              onAddToCart={onAddToCart}\r\n              isLoading={isLoading}\r\n            />}\r\n          />\r\n          <Route path=\"/favorites\" element={<Favorites />} />\r\n          <Route path=\"/orders\" element={<Orders />} />\r\n        </Routes>\r\n\r\n      </div>\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.scss';\r\nimport 'macro-css';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n   <HashRouter hashType=\"noslash\">\r\n      <App />\r\n      </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}